{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../src/components/properties/FilterBar.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\r\n'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\n\r\nexport default function FilterBar() {\r\n    const router = useRouter()\r\n    const searchParams = useSearchParams()\r\n\r\n    // State for filters\r\n    const [regionId, setRegionId] = useState(searchParams.get('regionId') || '')\r\n    const [bedrooms, setBedrooms] = useState(searchParams.get('bedrooms') || '')\r\n    const [bathrooms, setBathrooms] = useState(searchParams.get('bathrooms') || '')\r\n    const [garages, setGarages] = useState(searchParams.get('garages') || '')\r\n    const [landReady, setLandReady] = useState(searchParams.get('isLandReady') === 'true')\r\n\r\n    // State for data\r\n    const [regions, setRegions] = useState<any[]>([])\r\n\r\n    // Load regions on mount\r\n    useEffect(() => {\r\n        const fetchRegions = async () => {\r\n            try {\r\n                const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api'}/regions`)\r\n                const data = await res.json()\r\n                setRegions(data.data || [])\r\n            } catch (err) {\r\n                console.error(\"Failed to load regions\")\r\n            }\r\n        }\r\n        fetchRegions()\r\n    }, [])\r\n\r\n    // Update state when URL changes (e.g. back button)\r\n    useEffect(() => {\r\n        setRegionId(searchParams.get('regionId') || '')\r\n        setBedrooms(searchParams.get('bedrooms') || '')\r\n        setBathrooms(searchParams.get('bathrooms') || '')\r\n        setGarages(searchParams.get('garages') || '')\r\n        setLandReady(searchParams.get('isLandReady') === 'true')\r\n    }, [searchParams])\r\n\r\n    const handleSearch = () => {\r\n        const params = new URLSearchParams()\r\n        if (regionId) params.set('regionId', regionId)\r\n        if (bedrooms) params.set('bedrooms', bedrooms)\r\n        if (bathrooms) params.set('bathrooms', bathrooms)\r\n        if (garages) params.set('garages', garages)\r\n        if (landReady) params.set('isLandReady', 'true')\r\n\r\n        router.push(`/properties?${params.toString()}`)\r\n    }\r\n\r\n    // Helper to update filter immediately\r\n    const applyFilter = (key: string, value: any) => {\r\n        // Determine the next state values\r\n        const nextRegion = key === 'regionId' ? value : regionId\r\n        const nextBeds = key === 'bedrooms' ? value : bedrooms\r\n        const nextBaths = key === 'bathrooms' ? value : bathrooms\r\n        const nextGarages = key === 'garages' ? value : garages\r\n        const nextLand = key === 'isLandReady' ? value : landReady\r\n\r\n        // Update local state\r\n        if (key === 'regionId') setRegionId(value)\r\n        if (key === 'bedrooms') setBedrooms(value)\r\n        if (key === 'bathrooms') setBathrooms(value)\r\n        if (key === 'garages') setGarages(value)\r\n        if (key === 'isLandReady') setLandReady(value)\r\n\r\n        // Push to URL\r\n        const params = new URLSearchParams()\r\n        if (nextRegion) params.set('regionId', nextRegion)\r\n        if (nextBeds) params.set('bedrooms', nextBeds)\r\n        if (nextBaths) params.set('bathrooms', nextBaths)\r\n        if (nextGarages) params.set('garages', nextGarages)\r\n        if (nextLand) params.set('isLandReady', 'true')\r\n\r\n        router.push(`/properties?${params.toString()}`, { scroll: false })\r\n    }\r\n\r\n    return (\r\n        <div className=\"sticky top-[64px] z-40 bg-white/95 backdrop-blur-md border-b border-[#eceeef] shadow-sm transition-all duration-300\">\r\n            <div className=\"max-w-[1440px] mx-auto px-4 lg:px-10 py-4\">\r\n                <form\r\n                    className=\"flex flex-col xl:flex-row xl:items-center gap-4 xl:gap-6\"\r\n                    onSubmit={(e) => { e.preventDefault(); handleSearch(); }}\r\n                >\r\n                    {/* Region Selector */}\r\n                    <div className=\"relative min-w-[200px] flex-1\">\r\n                        <label className=\"sr-only\">Region</label>\r\n                        <div className=\"relative\">\r\n                            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-primary material-symbols-outlined text-xl\">location_on</span>\r\n                            <select\r\n                                value={regionId}\r\n                                onChange={(e) => applyFilter('regionId', e.target.value)}\r\n                                className=\"w-full pl-10 pr-4 py-2.5 bg-[#f0f2f4] border-transparent rounded-full text-sm font-medium text-charcoal focus:bg-white focus:border-primary focus:ring-0 transition-colors cursor-pointer appearance-none\"\r\n                            >\r\n                                <option value=\"\">All Regions</option>\r\n                                {regions.map((region) => (\r\n                                    <option key={region.id} value={region.id}>\r\n                                        {region.name}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                            <span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 material-symbols-outlined text-xl pointer-events-none\">expand_more</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Filters Group */}\r\n                    <div className=\"flex flex-wrap items-center gap-4 flex-[2]\">\r\n                        {/* Beds */}\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-xs font-medium text-gray-500 hidden sm:block\">Beds</span>\r\n                            <div className=\"flex bg-[#eceeef] p-0.5 rounded-full\">\r\n                                {[3, 4, 5].map((num) => (\r\n                                    <label key={num} className={`cursor-pointer px-3 py-1.5 rounded-full text-xs font-medium transition-all ${(num === 5 ? (bedrooms === '5' || bedrooms === '5+') : bedrooms === num.toString())\r\n                                        ? 'bg-white text-deep-slate shadow-sm'\r\n                                        : 'text-gray-500 hover:text-gray-700'\r\n                                        }`}>\r\n                                        <input\r\n                                            className=\"sr-only\"\r\n                                            name=\"bedrooms\"\r\n                                            type=\"radio\"\r\n                                            value={num}\r\n                                            onChange={() => applyFilter('bedrooms', num.toString())}\r\n                                            checked={num === 5 ? (bedrooms === '5' || bedrooms === '5+') : bedrooms === num.toString()}\r\n                                        />\r\n                                        {num === 5 ? '5+' : num}\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Baths */}\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-xs font-medium text-gray-500 hidden sm:block\">Baths</span>\r\n                            <div className=\"flex bg-[#eceeef] p-0.5 rounded-full\">\r\n                                {[2, 3].map((num) => (\r\n                                    <label key={num} className={`cursor-pointer px-3 py-1.5 rounded-full text-xs font-medium transition-all ${(num === 3 ? (bathrooms === '3' || bathrooms === '3+') : bathrooms === num.toString())\r\n                                        ? 'bg-white text-deep-slate shadow-sm'\r\n                                        : 'text-gray-500 hover:text-gray-700'\r\n                                        }`}>\r\n                                        <input\r\n                                            className=\"sr-only\"\r\n                                            name=\"bathrooms\"\r\n                                            type=\"radio\"\r\n                                            value={num}\r\n                                            onChange={() => applyFilter('bathrooms', num.toString())}\r\n                                            checked={num === 3 ? (bathrooms === '3' || bathrooms === '3+') : bathrooms === num.toString()}\r\n                                        />\r\n                                        {num === 3 ? '3+' : num}\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Cars */}\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-xs font-medium text-gray-500 hidden sm:block\">Cars</span>\r\n                            <div className=\"flex bg-[#eceeef] p-0.5 rounded-full\">\r\n                                {[1, 2].map((num) => (\r\n                                    <label key={num} className={`cursor-pointer px-3 py-1.5 rounded-full text-xs font-medium transition-all ${(num === 2 ? (garages === '2' || garages === '2+') : garages === num.toString())\r\n                                        ? 'bg-white text-deep-slate shadow-sm'\r\n                                        : 'text-gray-500 hover:text-gray-700'\r\n                                        }`}>\r\n                                        <input\r\n                                            className=\"sr-only\"\r\n                                            name=\"garages\"\r\n                                            type=\"radio\"\r\n                                            value={num}\r\n                                            onChange={() => applyFilter('garages', num.toString())}\r\n                                            checked={num === 2 ? (garages === '2' || garages === '2+') : garages === num.toString()}\r\n                                        />\r\n                                        {num === 2 ? '2+' : num}\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Land Readiness */}\r\n                        <div className={`flex items-center gap-3 px-3 py-1.5 rounded-full border transition-colors ${landReady ? 'bg-white border-gray-200' : 'bg-[#eceeef]/50 border-transparent hover:border-[#eceeef]'\r\n                            }`}>\r\n                            <span className=\"text-xs font-medium text-gray-600\">Land Ready</span>\r\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input\r\n                                    className=\"sr-only peer\"\r\n                                    type=\"checkbox\"\r\n                                    checked={landReady}\r\n                                    onChange={(e) => applyFilter('isLandReady', e.target.checked)}\r\n                                />\r\n                                <div className=\"w-9 h-5 bg-gray-300 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-deep-slate\"></div>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Search Button (Optional now, but good for robust feeling) */}\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"bg-deep-slate hover:bg-[#1a323e] text-white rounded-full px-6 py-2.5 text-sm font-bold transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2 w-full xl:w-auto\"\r\n                    >\r\n                        <span className=\"material-symbols-outlined text-[18px]\">search</span>\r\n                        <span>Update Results</span>\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}